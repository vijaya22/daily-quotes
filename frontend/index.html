<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Daily Inspiration</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <blockquote id="quote">Loading...</blockquote>
        <p id="author"></p>
    </div>
    <script src="constants.js"></script>

    <script>
        function getDailyIndex(list) {
            const today = new Date().toISOString().slice(0, 10);
            let hash = 0;
            for (let i = 0; i < today.length; i++) {
                hash = today.charCodeAt(i) + ((hash << 5) - hash);
            }

            return Math.abs(hash) % list.length;
        }

        const bg = window.background[getDailyIndex(window.background)];

          // Fetch and show the quote
        fetch('http://localhost:3000/quote')
            .then(res => res.json())
            .then(data => {
                document.getElementById('quote').textContent = `"${data.text}"`;
                document.getElementById('author').textContent = `â€“ ${data.author}`;
            })
      .catch(err => {
        document.getElementById('quote').textContent = "Could not load quote.";
      });
    </script>

</body>
</html>
